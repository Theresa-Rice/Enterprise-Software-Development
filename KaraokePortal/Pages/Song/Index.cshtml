@page
@model KaraokePortal.Pages.Song.IndexModel

@{
    ViewData["Title"] = "Index";
}
<!-- Kirsty Chan 232093Z IT3682 -->
<h1>Songs</h1>

<style>
    .pagination-container {
        font-family: sans-serif;
    }

    .pagination-btn {
        display: inline-block;
        padding: 0.5rem 1rem;
        background-color: #4f46e5;
        color: white;
        text-decoration: none;
        border-radius: 0.375rem; 
        transition: background-color 0.2s, opacity 0.2s, transform 0.2s;
    }

        .pagination-btn:hover {
            background-color: #4338ca;
            transform: translateY(-2px);
        }

        .pagination-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

    .pagination-info {
        color: #374151; 
        font-size: 0.9rem;
    }

</style>

<form method="get">
    <input type="text" name="SearchTerm" value="@Model.SearchTerm" placeholder="Search Songs" class="border px-2 py-1 rounded bg-body-secondary" />
    <button type="submit" class="text-white rounded bg-primary">Search</button>
    <span>|</span>
    <a asp-page="/Singer/Index" class="text-decoration-none">Back to Full List</a>
</form>

<p>
    <a asp-page="Create">Create New</a>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Song[0].Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Song[0].Genre)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model.Song) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Genre)
            </td>
            <td>
                <a asp-page="./Edit" asp-route-id="@item.SongID">Edit</a> |
                <a asp-page="./Details" asp-route-id="@item.SongID">Details</a> |
                <a asp-page="./Delete" asp-route-id="@item.SongID">Delete</a>
            </td>
        </tr>
}
    </tbody>
</table>

<div class="pagination-container" style="display: flex; justify-content: center; align-items: center; gap: 1rem; margin-top: 2rem;">
    <a asp-page="/Song/Index"
       asp-route-p="@(Model.page - 1)"
       asp-route-searchTerm="@Model.SearchTerm"
       class="pagination-btn @(Model.page <= 1 ? "disabled" : "")"
       aria-disabled="@(Model.page <= 1)"
       tabindex="@(Model.page <= 1 ? -1 : 0)">
        &#8592; Previous
    </a>



    <a asp-page="/Song/Index"
       asp-route-p="@(Model.page + 1)"
       asp-route-searchTerm="@Model.SearchTerm"
       class="pagination-btn @(Model.page >= Model.TotalPages ? "disabled" : "")"
       aria-disabled="@(Model.page >= Model.TotalPages)"
       tabindex="@(Model.page >= Model.TotalPages ? -1 : 0)">
        Next &#8594;
    </a>
</div>
<span class="pagination-info">Page @Model.page of @Model.TotalPages</span>