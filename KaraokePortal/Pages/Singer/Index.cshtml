@page
@model KaraokePortal.Pages.Singer.IndexModel
@{
    ViewData["Title"] = "Index";
}

<!-- Kirsty Chan 232093Z IT3682 -->

<h1>Index</h1>

<p>
    <a asp-page="Create">Create New</a>
</p>

<style>
    .pagination-container {
        font-family: sans-serif;
    }

    .pagination-btn {
        display: inline-block;
        padding: 0.5rem 1rem;
        background-color: #4f46e5; /* Indigo-600 */
        color: white;
        text-decoration: none;
        border-radius: 0.375rem; /* rounded-md */
        transition: background-color 0.2s, opacity 0.2s, transform 0.2s;
    }

        .pagination-btn:hover {
            background-color: #4338ca; /* Indigo-700 */
            transform: translateY(-2px);
        }

        .pagination-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

    .pagination-info {
        color: #374151; /* Gray-700 */
        font-size: 0.9rem;
    }
</style>

<form method="get" style="display: flex; align-items: center; gap: 0.5rem;">
    <input type="text" name="SearchTerm" value="@Model.SearchTerm" placeholder="Search Singer" class="border px-2 py-1 rounded bg-body-secondary" />
    <button type="submit" class="text-white rounded bg-primary">Search</button>
    <span>|</span>
    <a asp-page="/Singer/Index" class="text-decoration-none">Back to Full List</a>
</form>

<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Singer[0].LastName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Singer[0].FirstName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Singer[0].JoinDate)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Singer)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.LastName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.JoinDate)
                </td>
                <td>
                    <a asp-page="./Edit" asp-route-id="@item.SingerID">Edit</a> |
                    <a asp-page="./Details" asp-route-id="@item.SingerID">Details</a> |
                    <a asp-page="./Delete" asp-route-id="@item.SingerID">Delete</a>
                </td>
            </tr>
        }
    </tbody>
</table>

<div class="pagination-container" style="display: flex; justify-content: center; align-items: center; gap: 1rem; margin-top: 2rem;">
    <a asp-page="/Singer/Index"
       asp-route-p="@(Model.page - 1)"
       asp-route-searchTerm="@Model.SearchTerm"
       class="pagination-btn @(Model.page <= 1 ? "disabled" : "")"
       aria-disabled="@(Model.page <= 1)"
       tabindex="@(Model.page <= 1 ? -1 : 0)">
        &#8592; Previous
    </a>

    <a asp-page="/Singer/Index"
       asp-route-p="@(Model.page + 1)"
       asp-route-searchTerm="@Model.SearchTerm"
       class="pagination-btn @(Model.page >= Model.TotalPages ? "disabled" : "")"
       aria-disabled="@(Model.page >= Model.TotalPages)"
       tabindex="@(Model.page >= Model.TotalPages ? -1 : 0)">
        Next &#8594;
    </a>
</div>

<span class="pagination-info">Page @Model.page of @Model.TotalPages</span>